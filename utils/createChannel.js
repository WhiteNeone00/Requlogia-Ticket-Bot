const _0x24e719=_0x263c;function _0x1862(){const _0x268dbc=['ReadMessageHistory','7837188YpKTIi','ticketCounts','categories','4334085SjUIvA','push','topic','Database','discord.js','tickets','members','author','8216068JeILUM','addZeros','2715OtqCvY','user','ChannelType','AttachFiles','exports','20racuTn','markModified','ViewChannel','support','657558qXHkjR','4389792VxuxDf','738920JEDlPC','GuildText','guild','type','create','SendMessages','fetchUser','ticketCategoryID','1122mtUnkm','EmbedLinks','./utilManager.js','save'];_0x1862=function(){return _0x268dbc;};return _0x1862();}(function(_0x42d434,_0x4d7d3f){const _0x48bbea=_0x263c,_0x49c1cc=_0x42d434();while(!![]){try{const _0x1c076b=-parseInt(_0x48bbea(0x1ce))/0x1+parseInt(_0x48bbea(0x1d8))/0x2*(parseInt(_0x48bbea(0x1c5))/0x3)+parseInt(_0x48bbea(0x1d0))/0x4*(parseInt(_0x48bbea(0x1ca))/0x5)+parseInt(_0x48bbea(0x1dd))/0x6+-parseInt(_0x48bbea(0x1c3))/0x7+-parseInt(_0x48bbea(0x1cf))/0x8+parseInt(_0x48bbea(0x1e0))/0x9;if(_0x1c076b===_0x4d7d3f)break;else _0x49c1cc['push'](_0x49c1cc['shift']());}catch(_0x145aea){_0x49c1cc['push'](_0x49c1cc['shift']());}}}(_0x1862,0x9fc2e));function _0x263c(_0xfae4e3,_0x28defc){const _0x186260=_0x1862();return _0x263c=function(_0x263cf7,_0x39d376){_0x263cf7=_0x263cf7-0x1bc;let _0x3d5448=_0x186260[_0x263cf7];return _0x3d5448;},_0x263c(_0xfae4e3,_0x28defc);}const Discord=require(_0x24e719(0x1bf)),config=require('../config.js'),utils=require(_0x24e719(0x1da));module[_0x24e719(0x1c9)]=async(_0x140cbb,_0x504620,_0x3a2fc7)=>{return new Promise(async(_0x3b06cc,_0x51abc6)=>{const _0x21b8c4=_0x263c;var _0x38b6=_0x3a2fc7;const _0x3f9f2f=await _0x140cbb[_0x21b8c4(0x1be)]['fetchGuild'](_0x504620[_0x21b8c4(0x1d2)]['id']);var _0x24f5bb=[{'id':_0x504620[_0x21b8c4(0x1d2)]['roles']['everyone']['id'],'deny':[_0x21b8c4(0x1cc)]},{'id':_0x504620[_0x21b8c4(0x1c6)]['id'],'allow':[_0x21b8c4(0x1cc),_0x21b8c4(0x1c8),_0x21b8c4(0x1d9),_0x21b8c4(0x1d5),_0x21b8c4(0x1dc)]}];config[_0x21b8c4(0x1cd)]['staffRoles']['forEach'](_0x56489c=>{const _0x479471=_0x21b8c4;_0x24f5bb[_0x479471(0x1bc)]({'id':_0x56489c,'allow':[_0x479471(0x1cc),'AttachFiles',_0x479471(0x1d9),_0x479471(0x1d5),_0x479471(0x1dc)]});});const _0xc88c2f=await _0x504620['guild']['channels'][_0x21b8c4(0x1d4)]({'type':Discord[_0x21b8c4(0x1c7)][_0x21b8c4(0x1d1)],'name':config[_0x21b8c4(0x1cd)][_0x21b8c4(0x1df)][_0x38b6]['channelName']+'-'+utils[_0x21b8c4(0x1c4)](_0x3f9f2f[_0x21b8c4(0x1de)][config[_0x21b8c4(0x1cd)][_0x21b8c4(0x1df)][_0x38b6]['id']]+0x1,0x4),'parent':config[_0x21b8c4(0x1cd)][_0x21b8c4(0x1d7)],'permissionOverwrites':_0x24f5bb,'topic':config[_0x21b8c4(0x1cd)][_0x21b8c4(0x1df)][_0x38b6][_0x21b8c4(0x1bd)]}),_0x5b9d6b=await _0x140cbb[_0x21b8c4(0x1be)]['fetchTicket'](_0xc88c2f['id']);_0x5b9d6b[_0x21b8c4(0x1d3)]=config[_0x21b8c4(0x1cd)][_0x21b8c4(0x1df)][parseInt(_0x3a2fc7)]['id'],_0x5b9d6b[_0x21b8c4(0x1c2)]=_0x504620[_0x21b8c4(0x1c6)]['id'],_0x5b9d6b[_0x21b8c4(0x1c1)][_0x21b8c4(0x1bc)](_0x504620[_0x21b8c4(0x1c6)]['id']),_0x5b9d6b[_0x21b8c4(0x1cb)]('type'),_0x5b9d6b[_0x21b8c4(0x1cb)](_0x21b8c4(0x1c2)),_0x5b9d6b['markModified'](_0x21b8c4(0x1c1)),await _0x5b9d6b['save'](),_0x3f9f2f['ticketCounts'][config['support'][_0x21b8c4(0x1df)][_0x38b6]['id']]++,_0x3f9f2f['markModified']('ticketCounts'),await _0x3f9f2f['save']();const _0x4a9d26=await _0x140cbb[_0x21b8c4(0x1be)][_0x21b8c4(0x1d6)](_0x504620[_0x21b8c4(0x1c6)]['id']);return _0x4a9d26[_0x21b8c4(0x1c0)][_0x21b8c4(0x1bc)]({'chnId':_0xc88c2f['id'],'type':config[_0x21b8c4(0x1cd)][_0x21b8c4(0x1df)][parseInt(_0x3a2fc7)]['id'],'isActive':!![]}),_0x4a9d26[_0x21b8c4(0x1cb)](_0x21b8c4(0x1c0)),await _0x4a9d26[_0x21b8c4(0x1db)](),_0x3b06cc(_0xc88c2f);});};