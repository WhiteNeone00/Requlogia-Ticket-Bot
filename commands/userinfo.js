const Discord = require("discord.js");
const config = require("../config.js");
const feedbackSchema = require("../Database/Schema/Feedback.js");

function _0x4ab0(_0x136199,_0x255368){var _0xbbcb97=_0xbbcb();return _0x4ab0=function(_0x4ab024,_0x12c8a2){_0x4ab024=_0x4ab024-0x170;var _0x1007cd=_0xbbcb97[_0x4ab024];return _0x1007cd;},_0x4ab0(_0x136199,_0x255368);}function _0xbbcb(){var _0x462d7b=['userinfo','Database','members','4342690GeMIPN','cache','reply','guild','1480508RPbLnb','field1','4BwYntI','12724264MAoCch','value','footer','4423161UdJwZb','blacklisted','messages','commands','777406FQVoZj','name','EmbedBuilder','2448256BxIvGh','field3','field2','get','avatarURL','fields','toString','options','6lymFNM','inline','175570BpNegJ','addFields','user','531HABPxN','embed','Hayır','setAuthor','thumbnail','length'];_0xbbcb=function(){return _0x462d7b;};return _0xbbcb();}(function(_0x302340,_0x2f83df){var _0x123fc1=_0x4ab0,_0x27efc9=_0x302340();while(!![]){try{var _0x5ba3dc=parseInt(_0x123fc1(0x17a))/0x1+-parseInt(_0x123fc1(0x184))/0x2+-parseInt(_0x123fc1(0x180))/0x3+-parseInt(_0x123fc1(0x17c))/0x4*(-parseInt(_0x123fc1(0x176))/0x5)+-parseInt(_0x123fc1(0x18f))/0x6*(-parseInt(_0x123fc1(0x17d))/0x7)+-parseInt(_0x123fc1(0x187))/0x8+-parseInt(_0x123fc1(0x194))/0x9*(parseInt(_0x123fc1(0x191))/0xa);if(_0x5ba3dc===_0x2f83df)break;else _0x27efc9['push'](_0x27efc9['shift']());}catch(_0x3321e6){_0x27efc9['push'](_0x27efc9['shift']());}}}(_0xbbcb,0xead15),exports['run']=async(_0x5e1177,_0x29c85c)=>{var _0x4eff20=_0x4ab0,_0x55d0bf=_0x29c85c[_0x4eff20(0x18e)][_0x4eff20(0x18a)](_0x4eff20(0x193))[_0x4eff20(0x17e)],_0x48fad0=_0x29c85c[_0x4eff20(0x179)][_0x4eff20(0x175)][_0x4eff20(0x177)][_0x4eff20(0x18a)](_0x55d0bf);const _0x219dc9=await _0x5e1177[_0x4eff20(0x174)]['fetchUser'](_0x55d0bf);var _0x2e988d=await feedbackSchema['find']({'userId':_0x55d0bf}),_0x48db42=new Discord[(_0x4eff20(0x186))]()[_0x4eff20(0x170)]({'name':config[_0x4eff20(0x182)]['commands'][_0x4eff20(0x173)][_0x4eff20(0x195)]['author'],'iconURL':_0x48fad0[_0x4eff20(0x193)][_0x4eff20(0x18b)]()})['setThumbnail'](config[_0x4eff20(0x182)][_0x4eff20(0x183)]['userinfo'][_0x4eff20(0x195)][_0x4eff20(0x171)])['setFooter']({'text':config[_0x4eff20(0x182)][_0x4eff20(0x183)][_0x4eff20(0x173)][_0x4eff20(0x195)][_0x4eff20(0x17f)]})[_0x4eff20(0x192)]([{'name':config[_0x4eff20(0x182)][_0x4eff20(0x183)][_0x4eff20(0x173)][_0x4eff20(0x195)][_0x4eff20(0x18c)][_0x4eff20(0x17b)]['name'],'value':_0x219dc9['tickets']['length'][_0x4eff20(0x18d)](),'inline':config[_0x4eff20(0x182)]['commands'][_0x4eff20(0x173)][_0x4eff20(0x195)][_0x4eff20(0x18c)][_0x4eff20(0x17b)][_0x4eff20(0x190)]},{'name':config[_0x4eff20(0x182)]['commands']['userinfo']['embed']['fields'][_0x4eff20(0x189)][_0x4eff20(0x185)],'value':_0x2e988d[_0x4eff20(0x172)][_0x4eff20(0x18d)](),'inline':config[_0x4eff20(0x182)][_0x4eff20(0x183)][_0x4eff20(0x173)][_0x4eff20(0x195)][_0x4eff20(0x18c)][_0x4eff20(0x189)][_0x4eff20(0x190)]},{'name':config['messages'][_0x4eff20(0x183)]['userinfo'][_0x4eff20(0x195)][_0x4eff20(0x18c)][_0x4eff20(0x188)][_0x4eff20(0x185)],'value':_0x219dc9[_0x4eff20(0x181)]?'Evet':_0x4eff20(0x196),'inline':config[_0x4eff20(0x182)][_0x4eff20(0x183)]['userinfo']['embed'][_0x4eff20(0x18c)]['field3'][_0x4eff20(0x190)]}]);_0x29c85c[_0x4eff20(0x178)]({'embeds':[_0x48db42]});});

const cmd = new Discord.SlashCommandBuilder()
.setDMPermission(false)
.setName("userinfo")
.setDescription("Kullanıcı istatistiklerini listelersiniz.")
.setDefaultMemberPermissions(8)
.addUserOption(new Discord.SlashCommandUserOption()
    .setName("user")
    .setDescription("İstatistikleri kontrol edilecek kullanıcı.")
    .setRequired(true)
)

exports.data = cmd.toJSON()