const Discord = require("discord.js");
const config = require("../config.js");
const feedbackSchema = require("../Database/Schema/Feedback.js");

function _0x5899(_0x88b1df,_0x414c84){var _0x54fae3=_0x54fa();return _0x5899=function(_0x589936,_0x4903c5){_0x589936=_0x589936-0x116;var _0x20c68b=_0x54fae3[_0x589936];return _0x20c68b;},_0x5899(_0x88b1df,_0x414c84);}(function(_0x488d74,_0x29cc03){var _0x3968a3=_0x5899,_0x39d700=_0x488d74();while(!![]){try{var _0x1d7bab=-parseInt(_0x3968a3(0x124))/0x1*(-parseInt(_0x3968a3(0x11f))/0x2)+parseInt(_0x3968a3(0x137))/0x3+parseInt(_0x3968a3(0x11d))/0x4+-parseInt(_0x3968a3(0x12b))/0x5*(parseInt(_0x3968a3(0x12c))/0x6)+parseInt(_0x3968a3(0x11b))/0x7*(-parseInt(_0x3968a3(0x11a))/0x8)+parseInt(_0x3968a3(0x135))/0x9*(parseInt(_0x3968a3(0x136))/0xa)+-parseInt(_0x3968a3(0x131))/0xb;if(_0x1d7bab===_0x29cc03)break;else _0x39d700['push'](_0x39d700['shift']());}catch(_0x32bb2e){_0x39d700['push'](_0x39d700['shift']());}}}(_0x54fa,0x8880b),exports['run']=async(_0xd2a5d6,_0x1de9f0)=>{var _0x1659c5=_0x5899,_0x72541f=_0x1de9f0[_0x1659c5(0x118)][_0x1659c5(0x12d)](_0x1659c5(0x128))[_0x1659c5(0x11c)],_0x220aee=_0x1de9f0[_0x1659c5(0x13a)][_0x1659c5(0x119)][_0x1659c5(0x133)][_0x1659c5(0x12d)](_0x72541f);if(!config['support'][_0x1659c5(0x13c)][_0x1659c5(0x11e)](_0x3e85f5=>_0x220aee[_0x1659c5(0x12e)][_0x1659c5(0x133)]['has'](_0x3e85f5)))return _0x1de9f0['reply']({'content':config[_0x1659c5(0x121)][_0x1659c5(0x126)][_0x1659c5(0x123)][_0x1659c5(0x13d)][_0x1659c5(0x125)],'ephemeral':!![]});var _0x5e057c=await feedbackSchema[_0x1659c5(0x122)]({'staffId':_0x72541f}),_0x201ed6=0x0;if(_0x5e057c[_0x1659c5(0x140)]>0x0){for(let _0x534827=0x0;_0x534827<_0x5e057c[_0x1659c5(0x140)];_0x534827++){_0x201ed6+=_0x5e057c[_0x534827]['star'];}_0x201ed6=_0x201ed6/_0x5e057c[_0x1659c5(0x140)];}var _0x4e897f=new Discord[(_0x1659c5(0x12a))]()[_0x1659c5(0x138)]({'name':config[_0x1659c5(0x121)][_0x1659c5(0x126)][_0x1659c5(0x123)][_0x1659c5(0x117)][_0x1659c5(0x120)],'iconURL':_0x220aee[_0x1659c5(0x127)][_0x1659c5(0x134)]()})['setThumbnail'](config[_0x1659c5(0x121)][_0x1659c5(0x126)][_0x1659c5(0x123)][_0x1659c5(0x117)][_0x1659c5(0x12f)])[_0x1659c5(0x13b)]({'text':config[_0x1659c5(0x121)][_0x1659c5(0x126)][_0x1659c5(0x123)]['embed'][_0x1659c5(0x13f)]})[_0x1659c5(0x13e)]([{'name':config[_0x1659c5(0x121)][_0x1659c5(0x126)]['staffinfo'][_0x1659c5(0x117)][_0x1659c5(0x129)][_0x1659c5(0x141)][_0x1659c5(0x116)],'value':_0x201ed6+config[_0x1659c5(0x139)],'inline':config['messages'][_0x1659c5(0x126)]['staffinfo']['embed'][_0x1659c5(0x129)][_0x1659c5(0x141)][_0x1659c5(0x130)]},{'name':config[_0x1659c5(0x121)][_0x1659c5(0x126)][_0x1659c5(0x123)]['embed'][_0x1659c5(0x129)][_0x1659c5(0x132)][_0x1659c5(0x116)],'value':_0x5e057c[_0x1659c5(0x140)]['toString'](),'inline':config[_0x1659c5(0x121)][_0x1659c5(0x126)][_0x1659c5(0x123)][_0x1659c5(0x117)][_0x1659c5(0x129)][_0x1659c5(0x132)][_0x1659c5(0x130)]}]);_0x1de9f0['reply']({'embeds':[_0x4e897f]});});function _0x54fa(){var _0x509e1b=['avatarURL','459bhZZhA','156770tpdAST','1195074SRFHWB','setAuthor','defaultemoji','guild','setFooter','staffRoles','err','addFields','footer','length','field1','name','embed','options','members','224rXQuFe','275926NbtjCH','value','2364212jvQBFU','some','298hianyF','author','messages','find','staffinfo','3090KLJgxv','notStaff','commands','user','staff','fields','EmbedBuilder','216555xBmLWH','42sftdPl','get','roles','thumbnail','inline','3116872bTaFGQ','field2','cache'];_0x54fa=function(){return _0x509e1b;};return _0x54fa();}

const cmd = new Discord.SlashCommandBuilder()
.setDMPermission(false)
.setName("staffinfo")
.setDescription("Destek ekibinin bilgilerini inceleyebilirsiniz.")
.setDefaultMemberPermissions(8)
.addUserOption(new Discord.SlashCommandUserOption()
    .setName("staff")
    .setDescription("Bilgisini incelemek istediğiniz yetkiliyi seçin.")
    .setRequired(true)
)

exports.data = cmd.toJSON()